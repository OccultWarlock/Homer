{"remainingRequest":"/home/pi/homer/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pi/homer/src/components/DarkMode.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pi/homer/src/components/DarkMode.vue","mtime":1654015932568},{"path":"/home/pi/homer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/homer/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/homer/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pi/homer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/homer/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGFya21vZGUiLAogIHByb3BzOiB7CiAgICBkZWZhdWx0VmFsdWU6IFN0cmluZywKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRGFyazogbnVsbCwKICAgICAgZmFDbGFzc2VzOiBudWxsLAogICAgICB0aXRsZXM6IG51bGwsCiAgICAgIG1vZGU6IG51bGwsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5mYUNsYXNzZXMgPSBbImZhcyBmYS1hZGp1c3QiLCAiZmFzIGZhLWNpcmNsZSIsICJmYXIgZmEtY2lyY2xlIl07CiAgICB0aGlzLnRpdGxlcyA9IFsiQXV0by1zd2l0Y2giLCAiTGlnaHQgdGhlbWUiLCAiRGFyayB0aGVtZSJdOwogICAgdGhpcy5tb2RlID0gMDsKICAgIGlmICgib3ZlcnJpZGVEYXJrIiBpbiBsb2NhbFN0b3JhZ2UpIHsKICAgICAgLy8gTGlnaHQgdGhlbWUgaXMgMSBhbmQgRGFyayB0aGVtZSBpcyAyCiAgICAgIHRoaXMubW9kZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLm92ZXJyaWRlRGFyaykgPyAyIDogMTsKICAgIH0gZWxzZSB7CiAgICAgIHN3aXRjaCAodGhpcy5kZWZhdWx0VmFsdWUpIHsKICAgICAgICBjYXNlICJsaWdodCI6CiAgICAgICAgICB0aGlzLm1vZGUgPSAxOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiZGFyayI6CiAgICAgICAgICB0aGlzLm1vZGUgPSAyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMubW9kZSA9IDA7CiAgICAgIH0KICAgIH0KICAgIHRoaXMuaXNEYXJrID0gdGhpcy5nZXRJc0RhcmsoKTsKICAgIHRoaXMuJGVtaXQoInVwZGF0ZWQiLCB0aGlzLmlzRGFyayk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVUaGVtZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLm1vZGUgPSAodGhpcy5tb2RlICsgMSkgJSAzOwogICAgICBzd2l0Y2ggKHRoaXMubW9kZSkgewogICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3IKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgib3ZlcnJpZGVEYXJrIik7CiAgICAgICAgICBicmVhazsKICAgICAgICAvLyBGb3JjZSBsaWdodCB0aGVtZQogICAgICAgIGNhc2UgMToKICAgICAgICAgIGxvY2FsU3RvcmFnZS5vdmVycmlkZURhcmsgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIEZvcmNlIGRhcmsgdGhlbWUKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uub3ZlcnJpZGVEYXJrID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAvLyBTaG91bGQgYmUgdW5yZWFjaGFibGUKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0aGlzLmlzRGFyayA9IHRoaXMuZ2V0SXNEYXJrKCk7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZWQiLCB0aGlzLmlzRGFyayk7CiAgICB9LAoKICAgIGdldElzRGFyazogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCB2YWx1ZXMgPSBbCiAgICAgICAgbWF0Y2hNZWRpYSgiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSIpLm1hdGNoZXMsCiAgICAgICAgZmFsc2UsCiAgICAgICAgdHJ1ZSwKICAgICAgXTsKICAgICAgcmV0dXJuIHZhbHVlc1t0aGlzLm1vZGVdOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["DarkMode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DarkMode.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <a\n    v-on:click=\"toggleTheme()\"\n    aria-label=\"Toggle dark mode\"\n    class=\"navbar-item is-inline-block-mobile\"\n  >\n    <i\n      :class=\"`${faClasses[mode]}`\"\n      class=\"fa-fw\"\n      :title=\"`${titles[mode]}`\"\n    ></i>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: \"Darkmode\",\n  props: {\n    defaultValue: String,\n  },\n  data: function () {\n    return {\n      isDark: null,\n      faClasses: null,\n      titles: null,\n      mode: null,\n    };\n  },\n  created: function () {\n    this.faClasses = [\"fas fa-adjust\", \"fas fa-circle\", \"far fa-circle\"];\n    this.titles = [\"Auto-switch\", \"Light theme\", \"Dark theme\"];\n    this.mode = 0;\n    if (\"overrideDark\" in localStorage) {\n      // Light theme is 1 and Dark theme is 2\n      this.mode = JSON.parse(localStorage.overrideDark) ? 2 : 1;\n    } else {\n      switch (this.defaultValue) {\n        case \"light\":\n          this.mode = 1;\n          break;\n        case \"dark\":\n          this.mode = 2;\n          break;\n        default:\n          this.mode = 0;\n      }\n    }\n    this.isDark = this.getIsDark();\n    this.$emit(\"updated\", this.isDark);\n  },\n  methods: {\n    toggleTheme: function () {\n      this.mode = (this.mode + 1) % 3;\n      switch (this.mode) {\n        // Default behavior\n        case 0:\n          localStorage.removeItem(\"overrideDark\");\n          break;\n        // Force light theme\n        case 1:\n          localStorage.overrideDark = false;\n          break;\n        // Force dark theme\n        case 2:\n          localStorage.overrideDark = true;\n          break;\n        default:\n          // Should be unreachable\n          break;\n      }\n\n      this.isDark = this.getIsDark();\n      this.$emit(\"updated\", this.isDark);\n    },\n\n    getIsDark: function () {\n      const values = [\n        matchMedia(\"(prefers-color-scheme: dark)\").matches,\n        false,\n        true,\n      ];\n      return values[this.mode];\n    },\n  },\n};\n</script>\n"]}]}